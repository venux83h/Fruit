-- Full Fruit Spawner GUI (No Orion, Draggable, Functional)
local player = game.Players.LocalPlayer

-- ===== Fruits =====
local Fruits = {
    "Dough","Dragon","Magma","Spiderman","Kitsune","Mammoth","T-Rex","Light","Gravity",
    "Chainsawman","Portal","Revive","Hunter","Flame","Love","Snowman","Phoenix","Snow","Venom",
    "Gum","Admin-Admin","Ope","Quake","Rumble",
    "Barrier","Smoke","Paw",
    "Bomb","Shadow","Sand","Cold"
}

local OwnedFruits = {}
local EquippedFruit = nil
local SelectedFruit = nil

-- ===== ScreenGui =====
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FruitSpawnerGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- ===== Main Frame =====
local frame = Instance.new("Frame")
frame.Name = "MainFrame"
frame.Size = UDim2.new(0, 300, 0, 220)
frame.Position = UDim2.new(0.5, -150, 0.5, -110)
frame.BackgroundColor3 = Color3.fromRGB(0,0,0)
frame.BorderColor3 = Color3.fromRGB(255,255,255)
frame.BorderSizePixel = 2
frame.Active = true       -- Enables dragging
frame.Draggable = true    -- Make frame draggable
frame.Parent = screenGui

-- Rounded corners
local uicorner = Instance.new("UICorner")
uicorner.CornerRadius = UDim.new(0,10)
uicorner.Parent = frame

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,30)
title.Position = UDim2.new(0,0,0,0)
title.BackgroundTransparency = 1
title.Text = "Fruit Spawner"
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Font = Enum.Font.SourceSansBold
title.TextScaled = true
title.Parent = frame

-- ===== Dropdown (TextButton + ScrollingFrame) =====
local dropdownButton = Instance.new("TextButton")
dropdownButton.Size = UDim2.new(0.9,0,0,30)
dropdownButton.Position = UDim2.new(0.05,0,0.2,0)
dropdownButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
dropdownButton.BorderColor3 = Color3.fromRGB(255,255,255)
dropdownButton.BorderSizePixel = 2
dropdownButton.Text = "Select Fruit"
dropdownButton.TextColor3 = Color3.fromRGB(255,255,255)
dropdownButton.Font = Enum.Font.SourceSans
dropdownButton.TextScaled = true
dropdownButton.Parent = frame

local uicornerDropdown = Instance.new("UICorner")
uicornerDropdown.CornerRadius = UDim.new(0,5)
uicornerDropdown.Parent = dropdownButton

local dropdownList = Instance.new("ScrollingFrame")
dropdownList.Size = UDim2.new(0.9,0,0.5,0)
dropdownList.Position = UDim2.new(0.05,0,0.3,0)
dropdownList.BackgroundColor3 = Color3.fromRGB(20,20,20)
dropdownList.BorderColor3 = Color3.fromRGB(255,255,255)
dropdownList.BorderSizePixel = 2
dropdownList.CanvasSize = UDim2.new(0,0,0,0)
dropdownList.ScrollBarThickness = 8
dropdownList.Visible = false
dropdownList.Parent = frame

local uicornerList = Instance.new("UICorner")
uicornerList.CornerRadius = UDim.new(0,5)
uicornerList.Parent = dropdownList

-- Populate dropdown
local function populateDropdown()
    dropdownList:ClearAllChildren()
    local yPos = 0
    for _, fruit in ipairs(Fruits) do
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(1, -10, 0, 25)
        button.Position = UDim2.new(0,5,0,yPos)
        button.BackgroundColor3 = Color3.fromRGB(50,50,50)
        button.BorderColor3 = Color3.fromRGB(255,255,255)
        button.BorderSizePixel = 1
        button.Text = fruit
        button.TextColor3 = Color3.fromRGB(255,255,255)
        button.Font = Enum.Font.SourceSans
        button.TextScaled = true
        button.Parent = dropdownList
        button.MouseButton1Click:Connect(function()
            SelectedFruit = fruit
            dropdownButton.Text = fruit
            dropdownList.Visible = false
        end)
        yPos = yPos + 30
    end
    dropdownList.CanvasSize = UDim2.new(0,0,0,yPos)
end

populateDropdown()

dropdownButton.MouseButton1Click:Connect(function()
    dropdownList.Visible = not dropdownList.Visible
end)

-- ===== Give Button =====
local giveButton = Instance.new("TextButton")
giveButton.Size = UDim2.new(0.4,0,0,30)
giveButton.Position = UDim2.new(0.05,0,0.85,0)
giveButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
giveButton.BorderColor3 = Color3.fromRGB(255,255,255)
giveButton.BorderSizePixel = 2
giveButton.Text = "Give"
giveButton.TextColor3 = Color3.fromRGB(255,255,255)
giveButton.Font = Enum.Font.SourceSansBold
giveButton.TextScaled = true
giveButton.Parent = frame

local uicornerGive = Instance.new("UICorner")
uicornerGive.CornerRadius = UDim.new(0,5)
uicornerGive.Parent = giveButton

giveButton.MouseButton1Click:Connect(function()
    if not SelectedFruit or not table.find(Fruits, SelectedFruit) and not table.find(AllFruits, SelectedFruit) then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Fruit Spawner",
            Text = "Invalid Fruit!",
            Duration = 3
        })
        return
    end
    if table.find(OwnedFruits, SelectedFruit) then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Fruit Spawner",
            Text = "You already own this fruit!",
            Duration = 3
        })
        return
    end
    table.insert(OwnedFruits, SelectedFruit)
    game.StarterGui:SetCore("SendNotification", {
        Title = "Fruit Spawner",
        Text = "You got: "..SelectedFruit,
        Duration = 3
    })
end)

-- ===== Equip Button =====
local equipButton = Instance.new("TextButton")
equipButton.Size = UDim2.new(0.4,0,0,30)
equipButton.Position = UDim2.new(0.55,0,0.85,0)
equipButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
equipButton.BorderColor3 = Color3.fromRGB(255,255,255)
equipButton.BorderSizePixel = 2
equipButton.Text = "Equip"
equipButton.TextColor3 = Color3.fromRGB(255,255,255)
equipButton.Font = Enum.Font.SourceSansBold
equipButton.TextScaled = true
equipButton.Parent = frame

local uicornerEquip = Instance.new("UICorner")
uicornerEquip.CornerRadius = UDim.new(0,5)
uicornerEquip.Parent = equipButton

equipButton.MouseButton1Click:Connect(function()
    if not SelectedFruit or not table.find(OwnedFruits, SelectedFruit) then
        game.StarterGui:SetCore("SendNotification", {
            Title = "Fruit Spawner",
            Text = "Cannot equip invalid fruit!",
            Duration = 3
        })
        return
    end
    EquippedFruit = SelectedFruit
    game.StarterGui:SetCore("SendNotification", {
        Title = "Fruit Spawner",
        Text = "Equipped: "..EquippedFruit,
        Duration = 3
    })
end)
